!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LunaDomViewer=e():t.LunaDomViewer=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/",n(n.s=42)}([function(t,e,n){var r=n(8),o=n(4),i=n(24);e=function(t,e,n){var s,a;if(e=i(e,n),r(t))for(s=0,a=t.length;s<a;s++)e(t[s],s,t);else{var u=o(t);for(s=0,a=u.length;s<a;s++)e(t[u[s]],u[s],t)}return t},t.exports=e},function(t,e,n){var r=n(12);e=function(t){return"[object String]"===r(t)},t.exports=e},function(t,e){e=function(t){return void 0===t},t.exports=e},function(t,e,n){var r=n(1),o=n(7),i=n(31);e=function(t){return o(r(t)?new i(t):t)},t.exports=e},function(t,e,n){var r=n(13);e=Object.keys?Object.keys:function(t){var e=[];for(var n in t)r(t,n)&&e.push(n);return e},t.exports=e},function(t,e,n){var r=n(12);e=function(t){var e=r(t);return"[object Function]"===e||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e},t.exports=e},function(t,e){e=function(t){var e=typeof t;return!!t&&("function"===e||"object"===e)},t.exports=e},function(t,e,n){var r=n(8),o=n(14),i=n(10),s=n(1);e=function(t){return t?i(t)?t:r(t)&&!s(t)?o(t):[t]:[]},t.exports=e},function(t,e,n){var r=n(16),o=n(5),i=Math.pow(2,53)-1;e=function(t){if(!t)return!1;var e=t.length;return r(e)&&e>=0&&e<=i&&!o(t)},t.exports=e},function(t,e,n){var r=n(5),o=n(6),i=n(10),s=n(24),a=n(49),u=n(52),c=n(53);e=function(t,e,n){return null==t?u:r(t)?s(t,e,n):o(t)&&!i(t)?a(t):c(t)},t.exports=e},function(t,e,n){var r=n(12);e=Array.isArray?Array.isArray:function(t){return"[object Array]"===r(t)},t.exports=e},function(t,e,n){var r=n(19),o=n(7),i=n(55),s=n(28),a=n(57);var u=(e=function(t,e){return u.extend(t,e)}).Base=function t(e,n,u){u=u||{};var c=n.className||s(n,"initialize.name")||"";delete n.className;var f=function(){var t=o(arguments);return this.initialize&&this.initialize.apply(this,t)||this};if(!a)try{f=new Function("toArr","return function "+c+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(o)}catch(t){}return i(f,e),f.prototype.constructor=f,f.extend=function(e,n){return t(f,e,n)},f.inherits=function(t){i(f,t)},f.methods=function(t){return r(f.prototype,t),f},f.statics=function(t){return r(f,t),f},f.methods(n).statics(u),f}(Object,{className:"Base",callSuper:function(t,e,n){return t.prototype[e].apply(this,n)},toString:function(){return this.constructor.name}});t.exports=e},function(t,e){var n=Object.prototype.toString;e=function(t){return n.call(t)},t.exports=e},function(t,e){var n=Object.prototype.hasOwnProperty;e=function(t,e){return n.call(t,e)},t.exports=e},function(t,e,n){var r=n(9),o=n(4),i=n(8);e=function(t,e,n){e=r(e,n);for(var s=!i(t)&&o(t),a=(s||t).length,u=Array(a),c=0;c<a;c++){var f=s?s[c]:c;u[c]=e(t[f],f,t)}return u},t.exports=e},function(t,e,n){var r=n(11),o=n(13),i=n(0),s=n(58),a=n(59),u=n(62);e=r({initialize:function(){this._events=this._events||{}},on:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){var n=this._events;if(o(n,t)){var r=n[t].indexOf(e);return r>-1&&n[t].splice(r,1),this}},once:function(t,e){return this.on(t,a(e)),this},emit:function(t){var e=this;if(o(this._events,t)){var n=s(arguments,1),r=u(this._events[t]);return i(r,(function(t){return t.apply(e,n)}),this),this}},removeAllListeners:function(t){return t?delete this._events[t]:this._events={},this}},{mixin:function(t){i(["on","off","once","emit","removeAllListeners"],(function(n){t[n]=e.prototype[n]})),t._events=t._events||{}}}),t.exports=e},function(t,e,n){var r=n(12);e=function(t){return"[object Number]"===r(t)},t.exports=e},function(t,e,n){var r=n(66),o=n(1),i=n(8),s=n(67);e=function(t,e){return o(t)?t.indexOf(e)>-1:(i(t)||(t=s(t)),r(t,e)>=0)},t.exports=e},function(t,e,n){var r=n(79),o=n(80);e=function(t,e){return null==e&&t.trim?t.trim():r(o(t,e),e)},t.exports=e},function(t,e,n){e=n(20)(n(25)),t.exports=e},function(t,e,n){var r=n(2),o=n(0);e=function(t,e){return function(n){return o(arguments,(function(i,s){if(0!==s){var a=t(i);o(a,(function(t){e&&!r(n[t])||(n[t]=i[t])}))}})),n}},t.exports=e},function(t,e){e=function(t){var e=t?t.length:0;if(e)return t[e-1]},t.exports=e},function(t,e){e=function(t,e){return 0===t.indexOf(e)},t.exports=e},function(t,e,n){e=n(20)(n(25),!0),t.exports=e},function(t,e,n){var r=n(2);e=function(t,e,n){if(r(e))return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}},t.exports=e},function(t,e,n){var r=n(4),o=n(48),i=n(26),s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.prototype,u=void 0===n||n,c=e.unenumerable,f=void 0!==c&&c,l=e.symbol,p=void 0!==l&&l,d=[];if((f||p)&&s){var h=r;f&&s&&(h=s);do{d=d.concat(h(t)),p&&a&&(d=d.concat(a(t)))}while(u&&(t=o(t))&&t!==Object.prototype);d=i(d)}else if(u)for(var v in t)d.push(v);else d=r(t);return d},t.exports=e},function(t,e,n){var r=n(27);function o(t,e){return t===e}e=function(t,e){return e=e||o,r(t,(function(t,n,r){for(var o=r.length;++n<o;)if(e(t,r[n]))return!1;return!0}))},t.exports=e},function(t,e,n){var r=n(9),o=n(0);e=function(t,e,n){var i=[];return e=r(e,n),o(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},t.exports=e},function(t,e,n){var r=n(2),o=n(54);e=function(t,e){var n;for(n=(e=o(e,t)).shift();!r(n);){if(null==(t=t[n]))return;n=e.shift()}return t},t.exports=e},function(t,e){e=function(t,e){return e=null==e?t.length-1:+e,function(){var n,r=Math.max(arguments.length-e,0),o=new Array(r);for(n=0;n<r;n++)o[n]=arguments[n+e];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,arguments[0],o);case 2:return t.call(this,arguments[0],arguments[1],o)}var i=new Array(e+1);for(n=0;n<e;n++)i[n]=arguments[n];return i[e]=o,t.apply(this,i)}},t.exports=e},function(t,e,n){var r=n(31),o=n(64),i=n(65),s=n(32),a=n(35),u=n(72),c=n(21),f=n(73),l=n(74),p=n(75),d=n(36),h=n(78),v=n(2),m=n(1);e=function(t){return new r(t)},r.methods({offset:function(){return o(this)},hide:function(){return this.css("display","none")},show:function(){return i(this),this},first:function(){return e(this[0])},last:function(){return e(c(this))},get:function(t){return this[t]},eq:function(t){return e(this[t])},on:function(t,e,n){return p.on(this,t,e,n),this},off:function(t,e,n){return p.off(this,t,e,n),this},html:function(t){var e=u.html(this,t);return v(t)?e:this},text:function(t){var e=u.text(this,t);return v(t)?e:this},val:function(t){var e=u.val(this,t);return v(t)?e:this},css:function(t,e){var n=s(this,t,e);return g(t,e)?n:this},attr:function(t,e){var n=a(this,t,e);return g(t,e)?n:this},data:function(t,e){var n=l(this,t,e);return g(t,e)?n:this},rmAttr:function(t){return a.remove(this,t),this},remove:function(){return f(this),this},addClass:function(t){return d.add(this,t),this},rmClass:function(t){return d.remove(this,t),this},toggleClass:function(t){return d.toggle(this,t),this},hasClass:function(t){return d.has(this,t)},parent:function(){return e(this[0].parentNode)},append:function(t){return h.append(this,t),this},prepend:function(t){return h.prepend(this,t),this},before:function(t){return h.before(this,t),this},after:function(t){return h.after(this,t),this}});var g=function(t,e){return v(e)&&m(t)};t.exports=e},function(t,e,n){var r=n(11),o=n(1),i=n(0),s=n(63),a=new(e=r({className:"Select",initialize:function(t){return this.length=0,t?o(t)?a.find(t):void(t.nodeType&&(this[0]=t,this.length=1)):this},find:function(t){var n=new e;return this.each((function(){s(n,this.querySelectorAll(t))})),n},each:function(t){return i(this,(function(e,n){t.call(e,n,e)})),this}}))(document);t.exports=e},function(t,e,n){var r=n(1),o=n(6),i=n(33),s=n(2),a=n(17),u=n(16),c=n(3),f=n(68),l=n(0);e=function(t,e,n){if(t=c(t),s(n)&&r(e))return function(t,e){return t.style[f(e)]||getComputedStyle(t,"").getPropertyValue(e)}(t[0],e);var d=e;o(d)||((d={})[e]=n),function(t,e){l(t,(function(t){var n=";";l(e,(function(t,e){e=f.dash(e),n+=e+":"+function(t,e){return u(e)&&!a(p,i(t))?e+"px":e}(e,t)+";"})),t.style.cssText+=n}))}(t,d)};var p=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];t.exports=e},function(t,e,n){var r=n(34);e=function(t){return r(t).join("-")},t.exports=e},function(t,e){var n=/([A-Z])/g,r=/[_.\- ]+/g,o=/(^-)|(-$)/g;e=function(t){return(t=t.replace(n,"-$1").toLowerCase().replace(r,"-").replace(o,"")).split("-")},t.exports=e},function(t,e,n){var r=n(7),o=n(6),i=n(1),s=n(0),a=n(2),u=n(3);(e=function(t,e,n){if(t=u(t),a(n)&&i(e))return function(t,e){return t.getAttribute(e)}(t[0],e);var r=e;o(r)||((r={})[e]=n),function(t,e){s(t,(function(t){s(e,(function(e,n){t.setAttribute(n,e)}))}))}(t,r)}).remove=function(t,e){t=u(t),e=r(e),s(t,(function(t){s(e,(function(e){t.removeAttribute(e)}))}))},t.exports=e},function(t,e,n){var r=n(7),o=n(77),i=n(3),s=n(1),a=n(0);function u(t){return s(t)?t.split(/\s+/):r(t)}e={add:function(t,n){t=i(t);var r=u(n);a(t,(function(t){var n=[];a(r,(function(r){e.has(t,r)||n.push(r)})),0!==n.length&&(t.className+=(t.className?" ":"")+n.join(" "))}))},has:function(t,e){t=i(t);var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return o(t,(function(t){return n.test(t.className)}))},toggle:function(t,n){t=i(t),a(t,(function(t){if(!e.has(t,n))return e.add(t,n);e.remove(t,n)}))},remove:function(t,e){t=i(t);var n=u(e);a(t,(function(t){a(n,(function(e){t.classList.remove(e)}))}))}},t.exports=e},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadImage=e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventPage=e.eventClient=e.hasTouchSupport=e.classPrefix=e.exportCjs=void 0;var o,i=r(n(14)),s=r(n(18)),a=r(n(38)),u=r(n(82)),c=r(n(16)),f=r(n(17)),l=r(n(89)),p=r(n(90)),d=r(n(92)),h=r(n(94));e.exportCjs=function(t,e){try{t.exports=e,t.exports.default=e}catch(t){}},e.classPrefix=function(t){var e="luna-".concat(t,"-");function n(t){return(0,i.default)((0,s.default)(t).split(/\s+/),(function(t){return(0,f.default)(t,e)?t:t.replace(/[\w-]+/,(function(t){return"".concat(e).concat(t)}))})).join(" ")}return function(t){if(/<[^>]*>/g.test(t))try{var e=u.default.parse(t);return function t(e,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];n(i),i.content&&t(i.content,n)}}(e,(function(t){t.attrs&&t.attrs.class&&(t.attrs.class=n(t.attrs.class))})),u.default.stringify(e)}catch(e){return n(t)}return n(t)}},e.hasTouchSupport="ontouchstart"in a.default,e.eventClient=function(t,e){var n="x"===t?"clientX":"clientY";return e[n]?e[n]:e.changedTouches?e.changedTouches[0][n]:0},e.eventPage=function(t,e){var n="x"===t?"pageX":"pageY";return e[n]?e[n]:e.changedTouches?e.changedTouches[0][n]:0},e.measuredScrollbarWidth=function(){if((0,c.default)(o))return o;if(!document)return 16;var t=document.createElement("div"),e=document.createElement("div");t.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),e.setAttribute("style","height: 200px"),t.appendChild(e);var n=document.body||document.documentElement;return n.appendChild(t),o=t.offsetWidth-t.clientWidth,n.removeChild(t),o},e.hasVerticalScrollbar=function(t){return t.scrollHeight>t.offsetHeight},e.executeAfterTransition=function(t,e){if((0,h.default)(t))return e();var n=function(r){r.target===t&&(t.removeEventListener("transitionend",n),e())};t.addEventListener("transitionend",n)},e.pxToNum=function(t){return(0,l.default)(t.replace("px",""))},e.getPlatform=function(){var t=(0,p.default)();return"os x"===t?"mac":t},e.resetCanvasSize=function(t){t.width=Math.round(t.offsetWidth*window.devicePixelRatio),t.height=Math.round(t.offsetHeight*window.devicePixelRatio)},e.loadImage=function(t){return new Promise((function(e,n){(0,d.default)(t,(function(t,r){if(t)return n(t);e(r)}))}))}},function(t,e,n){(function(r){var o=n(39);e=o?window:r,t.exports=e}).call(this,n(81))},function(t,e){e="object"==typeof window&&"object"==typeof document&&9===document.nodeType,t.exports=e},function(t,e,n){var r=n(85);e=function(t){return r(t).toLocaleLowerCase()},t.exports=e},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=a(p);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){n(43),n(44),t.exports=n(45)},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";(function(t){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u,c,f=a(n(47)),l=a(n(0)),p=a(n(30)),d=a(n(98)),h=a(n(14)),v=a(n(27)),m=a(n(100)),g=a(n(101)),y=a(n(7)),x=a(n(103)),w=a(n(17)),b=a(n(104)),_=a(n(105)),T=a(n(21)),E=a(n(106)),C=a(n(18)),N=a(n(107)),O=a(n(108)),S=a(n(40)),j=n(37),P={comment:"",string:"",number:"",keyword:"",operator:""},D=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,e,{compName:"dom-viewer"},n)||this;return r.isExpanded=!1,r.childNodes=[],r.childNodeDomViewers=[],r.expand=function(t){void 0===t&&(t=!1),r.isExpandable()&&(r.isExpanded||(r.isExpanded=!0,r.renderExpandTag(),r.renderChildNodes()),t&&(0,l.default)(r.childNodeDomViewers,(function(t){t.expand(!0)})))},r.collapse=function(t){void 0===t&&(t=!1),r.isExpandable()&&(r.isExpanded&&(r.isExpanded=!1,r.renderCollapseTag()),t&&(0,l.default)(r.childNodeDomViewers,(function(t){t.collapse(!0)})))},r.toggle=function(){r.isExpanded?r.collapse():r.expand()},r.onKeyRight=function(){r.isExpanded?r.childNodeDomViewers[0].select():r.expand()},r.onKeyLeft=function(){var t;r.isExpanded?r.collapse():null===(t=r.options.parent)||void 0===t||t.select()},r.onKeyDown=function(){var t=r.options;if(r.isExpanded)r.childNodeDomViewers[0].select();else{var e=t.parent;if(e)if(t.isEndTag){if(!(e=e.getOption("parent")))return;var n=e.childNodes,o=e.childNodeDomViewers,i=e.endTagDomViewer,s=n.indexOf(t.node);n[s+1]?o[s+1].select():i&&i.select()}else{o=e.childNodeDomViewers,i=e.endTagDomViewer,s=o.indexOf(r);o[s+1]?o[s+1].select():i&&i.select()}}},r.onKeyUp=function(){var t,e=r.options,n=e.parent;if(n){var o;if(e.isEndTag)o=(0,T.default)(n.childNodeDomViewers);else{var i=n.childNodeDomViewers.indexOf(r);i<1?n.select():o=n.childNodeDomViewers[i-1]}o&&(o.isExpanded?null===(t=o.endTagDomViewer)||void 0===t||t.select():o.select())}},r.initOptions(n,{node:document.documentElement,parent:null,isEndTag:!1,observe:!0,rootContainer:e,rootDomViewer:r,ignore:function(){return!1},ignoreAttr:function(){return!1},lowerCaseTagName:!0,hotkey:!0}),r.isShadowRoot=(0,m.default)(r.options.node),r.initTpl(),r.bindEvent(),!r.options.isEndTag&&r.options.observe&&r.initObserver(),r}return o(e,t),e.prototype.select=function(t){var e=this.c,n=this.options;if(!t||t&&n.node===t){if(this.$tag.hasClass(e("selected")))return;return(0,p.default)(this.options.rootContainer).find(e(".selected")).rmClass(e("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(e("selected")),void n.rootDomViewer.emit("select",n.node)}if(t.nodeType===Node.ELEMENT_NODE)for(var r=t,o=t.parentElement;o;){if(o===n.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(r)].select(t);break}r=o,o=o.parentElement}},e.prototype.attach=function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))},e.prototype.isAttached=function(){return!!this.$tag.get(0).parentNode},e.prototype.detach=function(){this.$tag.remove(),this.$children&&this.$children.remove()},e.prototype.destroy=function(){var t=this.c;this.$tag.hasClass(t("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(t("platform-".concat((0,j.getPlatform)()))).rmClass(t("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()},e.prototype.renderExpandTag=function(){var t=this.$tag,e=this.c,n=this.options.node;this.isShadowRoot||t.html(this.renderHtmlTag(s(s({},A(n)),{hasTail:!1,hasToggleButton:!0}))),t.addClass(e("expanded")),this.$children.rmClass(e("hidden"))},e.prototype.renderCollapseTag=function(){var t=this.$tag,e=this.c,n=this.options.node;this.$children.addClass(e("hidden")),this.isShadowRoot||this.$tag.html(this.renderHtmlTag(s(s({},A(n)),{hasTail:!0,hasToggleButton:!0}))),t.rmClass(e("expanded"))},e.prototype.initObserver=function(){var t=this;this.observer=new x.default((function(e){(0,l.default)(e,(function(e){t.handleMutation(e)}))})),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})},e.prototype.handleMutation=function(t){var e=this.$tag,n=this.c,r=this.options,o=r.node,i=r.ignore;if((0,w.default)(["attributes","childList"],t.type)){if("childList"===t.type){if((0,N.default)(t.addedNodes,i)&&(0,N.default)(t.removedNodes,i))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(n("hidden")),this.isExpanded=!1,this.isShadowRoot?e.html(this.renderShadowRoot(!1)):e.html(this.renderHtmlTag(s(s({},A(o)),{hasTail:!1}))))}else"characterData"===t.type&&(o.nodeType===Node.TEXT_NODE?e.html(this.renderTextNode(o)):o.nodeType===Node.COMMENT_NODE&&e.html(this.renderHtmlComment(o.nodeValue)))},e.prototype.bindEvent=function(){var t=this,e=this.c,n=this.$tag;if((this.options.node.nodeType===Node.ELEMENT_NODE||this.isShadowRoot)&&n.on("click",e(".toggle"),(function(e){e.stopPropagation(),t.toggle()})),j.hasTouchSupport?n.on("click",(function(){return t.select()})):n.on("mousedown",(function(){return t.select()})),this.options.hotkey){var r={element:n.get(0)};O.default.on("right",r,this.onKeyRight),O.default.on("left",r,this.onKeyLeft),O.default.on("down",r,this.onKeyDown),O.default.on("up",r,this.onKeyUp)}},e.prototype.isExpandable=function(){return!(this.options.node.nodeType!==Node.ELEMENT_NODE&&!this.isShadowRoot)&&this.getChildNodes().length>0},e.prototype.getChildNodes=function(){var t=this.options,e=t.rootContainer,n=t.ignore,r=this.options.node,o=(0,y.default)(r.childNodes);return o=(0,v.default)(o,(function(t){if(t.nodeType===Node.TEXT_NODE||t.nodeType===Node.COMMENT_NODE){var r=t.nodeValue;if(""===(0,C.default)(r))return!1}return t!==e&&!n(t)})),r.shadowRoot?o.unshift(r.shadowRoot):r.chobitsuShadowRoot&&o.unshift(r.chobitsuShadowRoot),o},e.prototype.initTpl=function(){var t=this.container,e=this.c,n=this.options,r=n.node,o=n.isEndTag,i=n.lowerCaseTagName,a=(0,p.default)((0,d.default)("li"));if(a.addClass(e("tree-item")),this.$tag=a,o){var u=r.tagName;i&&(u=(0,S.default)(u)),a.html(e('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(u,'</span>&gt;</span><span class="selection"></span>')))}else if(r.nodeType===Node.ELEMENT_NODE){var c=this.isExpandable(),f=s(s({},A(r)),{hasTail:c,hasToggleButton:c});a.html(this.renderHtmlTag(f))}else if((0,m.default)(r)){c=this.isExpandable();a.html(this.renderShadowRoot(c))}else if(r.nodeType===Node.TEXT_NODE)a.html(this.renderTextNode(r));else{if(r.nodeType!==Node.COMMENT_NODE)return;var l=r.nodeValue;if(""===l.trim())return;a.html(this.renderHtmlComment(l))}if(t.appendChild(a.get(0)),r.nodeType===r.ELEMENT_NODE||this.isShadowRoot){var h=(0,p.default)((0,d.default)("ul"));h.addClass([e("children"),e("hidden")]),t.appendChild(h.get(0)),this.$children=h}},e.prototype.renderChildNodes=function(){var t=this,n=this.options.node,r=this.options,o=r.rootContainer,i=r.ignore,s=r.ignoreAttr,a=r.rootDomViewer,u=r.observe,c=r.lowerCaseTagName,f=this.$children.get(0),p=this.childNodes,d=this.childNodeDomViewers;(0,l.default)(d,(function(e){e.detach(),t.removeSubComponent(e)})),this.endTagDomViewer&&this.endTagDomViewer.detach();var h=this.getChildNodes();this.childNodes=h;var v=[];this.childNodeDomViewers=v,(0,l.default)(h,(function(n,r){var l,h=p.indexOf(n);(l=h>-1?d[h]:new e(f,{node:n,observe:u,parent:t,rootContainer:o,rootDomViewer:a,ignore:i,ignoreAttr:s,lowerCaseTagName:c})).attach(),v[r]=l,t.addSubComponent(l)})),(0,l.default)(d,(function(t){t.isAttached()||t.destroy()})),n&&!this.isShadowRoot&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new e(f,{node:n,parent:this,isEndTag:!0,lowerCaseTagName:c,rootContainer:o,rootDomViewer:a,ignore:i}),this.addSubComponent(this.endTagDomViewer)))},e.prototype.renderHtmlTag=function(t){var e=this,n=this.options.lowerCaseTagName;t.attributes=(0,v.default)(t.attributes,(function(n){return!e.options.ignoreAttr(t.el,n.name,n.value)}));var r=(0,h.default)(t.attributes,(function(t){var e=t.name,n=t.value,r=t.isLink;return'<span class="attribute">\n          <span class="attribute-name">'.concat((0,E.default)(e),"</span>").concat(n?'="<span class="attribute-value'.concat(r?" attribute-underline":"",'">').concat((0,E.default)(n),'</span>"'):"","</span>")})).join(""),o="",s=t.tagName;return n&&(s=(0,S.default)(s)),t.hasTail?o="".concat(t.hasTail?"…":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(s,"</span>&gt;</span>"):this.isExpandable()||(o='<span class="html-tag">&lt;<span class="tag-name">/'.concat(s,"</span>&gt;</span>")),this.c((0,g.default)(u||(u=i(["\n      ",'\n      <span class="html-tag">&lt;<span class="tag-name">',"</span>","&gt;</span>",'\n      <span class="selection"></span>'],["\n      ",'\n      <span class="html-tag">&lt;<span class="tag-name">',"</span>","&gt;</span>",'\n      <span class="selection"></span>'])),t.hasToggleButton?this.renderToggle():"",s,r,o))},e.prototype.renderTextNode=function(t){var e=this.c,n=t.nodeValue,r=t.parentElement,o='<span class="text-node">',i='</span><span class="selection"></span>';if(r&&n.length<1e4){if("STYLE"===r.tagName)return e("".concat(o).concat((0,b.default)(n,"css",P)).concat(i));if("SCRIPT"===r.tagName)return e("".concat(o).concat((0,b.default)(n,"js",P)).concat(i))}return e('"'.concat(o).concat((0,E.default)((0,_.default)(n,1e4,{separator:" ",ellipsis:"…"}))).concat(i,'"'))},e.prototype.renderHtmlComment=function(t){return this.c('<span class="html-comment">&lt;!-- '.concat((0,E.default)(t),' --&gt;</span><span class="selection"></span>'))},e.prototype.renderShadowRoot=function(t){var e=this.options.node;return this.c((0,g.default)(c||(c=i(["\n      ",'\n      <span class="shadow-root">#shadow-root (',')</span>\n      <span class="selection"></span>'],["\n      ",'\n      <span class="shadow-root">#shadow-root (',')</span>\n      <span class="selection"></span>'])),t?this.renderToggle():"",e.mode))},e.prototype.renderToggle=function(){return'<div class="toggle "><span class="icon icon-caret-right"></span><span class="icon icon-caret-down"></span></div>'},e}(f.default);function A(t){var e={el:t,tagName:"",attributes:[]};e.tagName=t.tagName;var n=[];return(0,l.default)(t.attributes,(function(e){var r=e.name,o=e.value;n.push({name:r,value:o,isLink:k(t,r)})})),e.attributes=n,e}function k(t,e){var n=t.tagName;return("SCRIPT"===n||"IMAGE"===n||"VIDEO"===n||"AUDIO"===n)&&"src"===e||"LINK"===n&&"href"===e}e.default=D,(0,j.exportCjs)(t,D)}).call(this,n(46)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(15)),a=i(n(30)),u=n(37),c=i(n(0)),f=i(n(19)),l=i(n(23)),p=i(n(95)),d=i(n(96)),h=i(n(22)),v=function(t){function e(e,n,r){var o=n.compName,i=(void 0===r?{}:r).theme,s=void 0===i?"light":i,f=t.call(this)||this;return f.subComponents=[],f.theme="",f.onThemeChange=function(t){"auto"===f.options.theme&&f.setTheme(t)},f.compName=o,f.c=(0,u.classPrefix)(o),f.options={},f.container=e,f.$container=(0,a.default)(e),f.$container.addClass(["luna-".concat(o),f.c("platform-".concat((0,u.getPlatform)()))]),f.on("changeOption",(function(t,e){if("theme"===t&&e){var n=e;"auto"===e&&(n=d.default.get()),f.setTheme(n),(0,c.default)(f.subComponents,(function(t){return t.setOption("theme",e)}))}})),d.default.on("change",f.onThemeChange),f.setOption("theme",s),f}return o(e,t),e.prototype.destroy=function(){var t=this;this.destroySubComponents();var e=this.$container,n=e.attr("class");(0,c.default)(n.split(/\s+/),(function(n){(0,h.default)(n,"luna-".concat(t.compName))&&e.rmClass(n)})),e.html(""),this.emit("destroy"),this.removeAllListeners(),d.default.off("change",this.onThemeChange)},e.prototype.setOption=function(t,e){var n=this,r=this.options,o={};"string"==typeof t?o[t]=e:o=t,(0,c.default)(o,(function(t,e){var o=r[e];r[e]=t,t!==o&&n.emit("changeOption",e,t,o)}))},e.prototype.getOption=function(t){return this.options[t]},e.prototype.addSubComponent=function(t){t.setOption("theme",this.options.theme),this.subComponents.push(t)},e.prototype.removeSubComponent=function(t){(0,p.default)(this.subComponents,(function(e){return e===t}))},e.prototype.destroySubComponents=function(){(0,c.default)(this.subComponents,(function(t){return t.destroy()})),this.subComponents=[]},e.prototype.initOptions=function(t,e){void 0===e&&(e={}),(0,l.default)(t,e),(0,f.default)(this.options,t)},e.prototype.find=function(t){return this.$container.find(this.c(t))},e.prototype.setTheme=function(t){var e=this.c,n=this.$container;this.theme&&n.rmClass(e("theme-".concat(this.theme))),n.addClass(e("theme-".concat(t))),this.theme=t},e}(s.default);e.default=v},function(t,e,n){var r=n(6),o=n(5),i=Object.getPrototypeOf,s={}.constructor;e=function(t){if(r(t)){if(i)return i(t);var e=t.__proto__;return e||null===e?e:o(t.constructor)?t.constructor.prototype:t instanceof s?s.prototype:void 0}},t.exports=e},function(t,e,n){var r=n(50),o=n(51);e=function(t){return t=r({},t),function(e){return o(e,t)}},t.exports=e},function(t,e,n){var r=n(4);e=n(20)(r),t.exports=e},function(t,e,n){var r=n(4);e=function(t,e){var n=r(e),o=n.length;if(null==t)return!o;t=Object(t);for(var i=0;i<o;i++){var s=n[i];if(e[s]!==t[s]||!(s in t))return!1}return!0},t.exports=e},function(t,e){e=function(t){return t},t.exports=e},function(t,e,n){var r=n(10),o=n(28);e=function(t){return r(t)?function(e){return o(e,t)}:(e=t,function(t){return null==t?void 0:t[e]});var e},t.exports=e},function(t,e,n){var r=n(13),o=n(10);e=function(t,e){if(o(t))return t;if(e&&r(e,t))return[t];var n=[];return t.replace(i,(function(t,e,r,o){n.push(r?o.replace(s,"$1"):e||t)})),n};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;t.exports=e},function(t,e,n){var r=n(56);e=function(t,e){t.prototype=r(e.prototype)},t.exports=e},function(t,e,n){var r=n(6);e=function(t){if(!r(t))return{};if(o)return o(t);function e(){}return e.prototype=t,new e};var o=Object.create;t.exports=e},function(t,e,n){var r=n(5);e="undefined"!=typeof wx&&r(wx.openLocation),t.exports=e},function(t,e){e=function(t,e,n){var r=t.length;e=null==e?0:e<0?Math.max(r+e,0):Math.min(e,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var o=[];e<n;)o.push(t[e++]);return o},t.exports=e},function(t,e,n){e=n(60)(n(61),2),t.exports=e},function(t,e,n){var r=n(29),o=n(7);e=r((function(t,e){return function(){var n=[];return n=(n=n.concat(e)).concat(o(arguments)),t.apply(this,n)}})),t.exports=e},function(t,e){e=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},t.exports=e},function(t,e,n){var r=n(6),o=n(10),i=n(19);e=function(t){return r(t)?o(t)?t.slice():i({},t):t},t.exports=e},function(t,e,n){e=n(29)((function(t,e){for(var n=t.length,r=0,o=e.length;r<o;r++)for(var i=e[r],s=0,a=i.length;s<a;s++)t[n++]=i[s];return t.length=n,t})),t.exports=e},function(t,e,n){var r=n(3);e=function(t){var e=(t=r(t))[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},t.exports=e},function(t,e,n){var r=n(0),o=n(3);e=function(t){t=o(t),r(t,(function(t){(function(t){return"none"==getComputedStyle(t,"").getPropertyValue("display")})(t)&&(t.style.display=function(t){var e,n;i[t]||(e=document.createElement(t),document.documentElement.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),i[t]=n);return i[t]}(t.nodeName))}))};var i={};t.exports=e},function(t,e){e=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},t.exports=e},function(t,e,n){var r=n(0);e=function(t){var e=[];return r(t,(function(t){e.push(t)})),e},t.exports=e},function(t,e,n){var r=n(69),o=n(70),i=n(71),s=n(13),a=n(33);(e=r((function(t){if(t=t.replace(c,""),t=o(t),s(f,t))return t;for(var e=u.length;e--;){var n=u[e]+i(t);if(s(f,n))return n}return t}))).dash=r((function(t){var n=e(t);return(c.test(n)?"-":"")+a(n)}));var u=["O","ms","Moz","Webkit"],c=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,f=document.createElement("p").style;t.exports=e},function(t,e,n){var r=n(13);e=function(t,e){var n=function(o){var i=n.cache,s=""+(e?e.apply(this,arguments):o);return r(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},t.exports=e},function(t,e,n){var r=n(34);function o(t,e){this[e]=t.replace(/\w/,(function(t){return t.toUpperCase()}))}e=function(t){var e=r(t),n=e[0];return e.shift(),e.forEach(o,e),n+=e.join("")},t.exports=e},function(t,e){e=function(t){return t.length<1?t:t[0].toUpperCase()+t.slice(1)},t.exports=e},function(t,e,n){var r=n(2),o=n(0),i=n(3);function s(t){return function(e,n){var s=(e=i(e))[0];if(r(n))return s?s[t]:"";s&&o(e,(function(e){e[t]=n}))}}e={html:s("innerHTML"),text:s("textContent"),val:s("value")},t.exports=e},function(t,e,n){var r=n(0),o=n(3);e=function(t){t=o(t),r(t,(function(t){var e=t.parentNode;e&&e.removeChild(t)}))},t.exports=e},function(t,e,n){var r=n(35),o=n(1),i=n(6),s=n(0);n(3);e=function(t,e,n){var a=e;return o(e)&&(a="data-"+e),i(e)&&(a={},s(e,(function(t,e){a["data-"+e]=t}))),r(t,a,n)},t.exports=e},function(t,e,n){var r=n(76),o=n(2),i=n(3),s=n(0);function a(t){return function(e,n,a,u){e=i(e),o(u)&&(u=a,a=void 0),s(e,(function(e){r[t](e,n,a,u)}))}}e={on:a("add"),off:a("remove")},t.exports=e},function(t,e,n){var r=n(11),o=n(17);function i(){return!0}function s(){return!1}function a(t){var n,r=this.events[t.type],o=u.call(this,t,r);t=new e.Event(t);for(var i,s,a=0;(s=o[a++])&&!t.isPropagationStopped();)for(t.curTarget=s.el,i=0;(n=s.handlers[i++])&&!t.isImmediatePropagationStopped();)!1===n.handler.apply(s.el,[t])&&(t.preventDefault(),t.stopPropagation())}function u(t,e){var n,r,i,s,a=t.target,u=[],c=e.delegateCount;if(a.nodeType)for(;a!==this;a=a.parentNode||this){for(r=[],s=0;s<c;s++)void 0===r[n=(i=e[s]).selector+" "]&&(r[n]=o(this.querySelectorAll(n),a)),r[n]&&r.push(i);r.length&&u.push({el:a,handlers:r})}return c<e.length&&u.push({el:this,handlers:e.slice(c)}),u}e={add:function(t,e,n,r){var o,i={selector:n,handler:r};t.events||(t.events={}),(o=t.events[e])||((o=t.events[e]=[]).delegateCount=0,t.addEventListener(e,(function(){a.apply(t,arguments)}),!1)),n?o.splice(o.delegateCount++,0,i):o.push(i)},remove:function(t,e,n,r){var o=t.events;if(o&&o[e])for(var i,s=o[e],a=s.length;a--;)i=s[a],n&&i.selector!=n||i.handler!=r||(s.splice(a,1),i.selector&&s.delegateCount--)},Event:r({className:"Event",initialize:function(t){this.origEvent=t},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var t=this.origEvent;this.isDefaultPrevented=i,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.origEvent;this.isPropagationStopped=i,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.origEvent;this.isImmediatePropagationStopped=i,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}})},t.exports=e},function(t,e,n){var r=n(9),o=n(8),i=n(4);e=function(t,e,n){e=r(e,n);for(var s=!o(t)&&i(t),a=(s||t).length,u=0;u<a;u++){var c=s?s[u]:u;if(e(t[c],c,t))return!0}return!1},t.exports=e},function(t,e,n){var r=n(0),o=n(3),i=n(1);function s(t){return function(e,n){e=o(e),r(e,(function(e){if(i(n))e.insertAdjacentHTML(t,n);else{var r=e.parentNode;switch(t){case"beforebegin":r&&r.insertBefore(n,e);break;case"afterend":r&&r.insertBefore(n,e.nextSibling);break;case"beforeend":e.appendChild(n);break;case"afterbegin":e.prepend(n)}}}))}}e={before:s("beforebegin"),after:s("afterend"),append:s("beforeend"),prepend:s("afterbegin")},t.exports=e},function(t,e){var n=/^\s+/;e=function(t,e){if(null==e)return t.trimLeft?t.trimLeft():t.replace(n,"");for(var r,o,i=0,s=t.length,a=e.length,u=!0;u&&i<s;)for(u=!1,r=-1,o=t.charAt(i);++r<a;)if(o===e[r]){u=!0,i++;break}return i>=s?"":t.substr(i,s)},t.exports=e},function(t,e){e=function(t,e){if(null==e){if(t.trimRight)return t.trimRight();e=" \r\n\t\f\v"}for(var n,r,o=t.length-1,i=e.length,s=!0;s&&o>=0;)for(s=!1,n=-1,r=t.charAt(o);++n<i;)if(r===e[n]){s=!0,o--;break}return o>=0?t.substring(0,o+1):""},t.exports=e},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(83),o=n(86),i=n(10),s=n(0),a=n(1),u=n(88);var c=function(t){return t.replace(/&quot;/g,'"')},f=function(t){return t.replace(/"/g,"&quot;")};e={parse:function(t){var e=[],n=new o;return r(t,{start:function(t,e){e=u(e,(function(t){return c(t)})),n.push({tag:t,attrs:e})},end:function(){var t=n.pop();if(n.size){var r=n.peek();i(r.content)||(r.content=[]),r.content.push(t)}else e.push(t)},comment:function(t){var r="\x3c!--".concat(t,"--\x3e"),o=n.peek();o?(o.content||(o.content=[]),o.content.push(r)):e.push(r)},text:function(t){var r=n.peek();r?(r.content||(r.content=[]),r.content.push(t)):e.push(t)}}),e},stringify:function t(e){var n="";return i(e)?s(e,(function(e){return n+=t(e)})):a(e)?n=e:(n+="<".concat(e.tag),s(e.attrs,(function(t,e){return n+=" ".concat(e,'="').concat(f(t),'"')})),n+=">",e.content&&(n+=t(e.content)),n+="</".concat(e.tag,">")),n}},t.exports=e},function(t,e,n){var r=n(21),o=n(84),i=n(22),s=n(40);e=function(t,e){for(var n,o=[],p=t;t;){if(n=!0,r(o)&&l[r(o)]){var d=new RegExp("</".concat(r(o),"[^>]*>")).exec(t);if(d){var h=t.substring(0,d.index);t=t.substring(d.index+d[0].length),h&&e.text&&e.text(h)}_("",r(o))}else{if(i(t,"\x3c!--")){var v=t.indexOf("--\x3e");v>=0&&(e.comment&&e.comment(t.substring(4,v)),t=t.substring(v+3),n=!1)}else if(i(t,"<!")){var m=t.match(a);m&&(e.text&&e.text(t.substring(0,m[0].length)),t=t.substring(m[0].length),n=!1)}else if(i(t,"</")){var g=t.match(u);g&&(t=t.substring(g[0].length),g[0].replace(u,_),n=!1)}else if(i(t,"<")){var y=t.match(c);y&&(t=t.substring(y[0].length),y[0].replace(c,b),n=!1)}if(n){var x=t.indexOf("<"),w=x<0?t:t.substring(0,x);t=x<0?"":t.substring(x),e.text&&e.text(w)}}if(p===t)throw Error("Parse Error: "+t);p=t}function b(t,n,r,i){if(n=s(n),(i=!!i)||o.push(n),e.start){var a={};r.replace(f,(function(t,e,n,r,o){a[e]=n||r||o||""})),e.start(n,a,i)}}function _(t,n){var r;if(n=s(n))for(r=o.length-1;r>=0&&o[r]!==n;r--);else r=0;if(r>=0){for(var i=o.length-1;i>=r;i--)e.end&&e.end(o[i]);o.length=r}}_()};var a=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/^<\/([-A-Za-z0-9_]+)[^>]*>/,c=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,f=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,l=o("script,style".split(","));t.exports=e},function(t,e,n){var r=n(0),o=n(2),i=n(5);e=function(t,e){o(e)&&(e=!0);var n=i(e),s={};return r(t,(function(t){s[t]=n?e(t):e})),s},t.exports=e},function(t,e){e=function(t){return null==t?"":t.toString()},t.exports=e},function(t,e,n){var r=n(11),o=n(87);e=r({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(t){return this._items.push(t),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(t,e){e=arguments.length>1?e:this;for(var n=this._items,r=this.size-1,o=0;r>=0;r--,o++)t.call(e,n[r],o,this)},toArr:function(){return o(this._items)}}),t.exports=e},function(t,e){e=function(t){var e=t.length,n=Array(e);e--;for(var r=0;r<=e;r++)n[e-r]=t[r];return n},t.exports=e},function(t,e,n){var r=n(9),o=n(4);e=function(t,e,n){e=r(e,n);for(var i=o(t),s=i.length,a={},u=0;u<s;u++){var c=i[u];a[c]=e(t[c],c,t)}return a},t.exports=e},function(t,e,n){var r=n(16),o=n(6),i=n(5),s=n(1);e=function(t){if(r(t))return t;if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}return s(t)?+t:0===t?t:+t},t.exports=e},function(t,e,n){(function(r){var o=n(39),i=n(91);e=function(t){function e(e){return t.indexOf(e)>-1}if(!t&&o&&(t=navigator.userAgent),t){if(t=t.toLowerCase(),e("windows phone"))return"windows phone";if(e("win"))return"windows";if(e("android"))return"android";if(e("ipad")||e("iphone")||e("ipod"))return"ios";if(e("mac"))return"os x";if(e("linux"))return"linux"}else if(i){var n=r,s=n.platform,a=n.env;if("win32"===s||"cygwin"===a.OSTYPE||"msys"===a.OSTYPE)return"windows";if("darwin"===s)return"os x";if("linux"===s)return"linux"}return"unknown"},t.exports=e}).call(this,n(41))},function(t,e,n){(function(r){var o=n(12);e=void 0!==r&&"[object process]"===o(r),t.exports=e}).call(this,n(41))},function(t,e,n){var r=n(93);e=function(t,e){e=e||r;var n=new Image;n.onload=function(){e(null,n)},n.onerror=function(t){e(t)},n.src=t},t.exports=e},function(t,e){e=function(){},t.exports=e},function(t,e,n){var r=n(38),o=r.getComputedStyle,i=r.document;function s(t,e){return t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom}e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.display,r=void 0===n||n,a=e.visibility,u=void 0!==a&&a,c=e.opacity,f=void 0!==c&&c,l=e.size,p=void 0!==l&&l,d=e.viewport,h=void 0!==d&&d,v=e.overflow,m=void 0!==v&&v,g=o(t);if(r){var y=t.tagName;if("BODY"===y||"HTML"===y||"fixed"===g.position){if("none"===g.display)return!0;for(var x=t;x=x.parentElement;){var w=o(x);if("none"===w.display)return!0}}else if(null===t.offsetParent)return!0}if(u&&"hidden"===g.visibility)return!0;if(f){if("0"===g.opacity)return!0;for(var b=t;b=b.parentElement;){var _=o(b);if("0"===_.opacity)return!0}}var T=t.getBoundingClientRect();if(p&&(0===T.width||0===T.height))return!0;if(h){var E={top:0,left:0,right:i.documentElement.clientWidth,bottom:i.documentElement.clientHeight};return s(T,E)}if(m)for(var C=t;C=C.parentElement;){var N=o(C),O=N.overflow;if("scroll"===O||"hidden"===O){var S=C.getBoundingClientRect();if(s(T,S))return!0}}return!1},t.exports=e},function(t,e,n){var r=n(9);e=function(t,e,n){var o=[];e=r(e,n);for(var i=-1,s=t.length;++i<s;){var a=i-o.length,u=t[a];e(u,i,t)&&(o.push(u),t.splice(a,1))}return o},t.exports=e},function(t,e,n){var r=n(15),o=new(n(97))("(prefers-color-scheme: dark)");e={get:function(){return o.isMatch()?"dark":"light"}},r.mixin(e),o.on("match",(function(){return e.emit("change","dark")})),o.on("unmatch",(function(){return e.emit("change","light")})),t.exports=e},function(t,e,n){var r=n(15);e=r.extend({className:"MediaQuery",initialize:function(t){var e=this;this.callSuper(r,"initialize"),this._listener=function(){e.emit(e.isMatch()?"match":"unmatch")},this.setQuery(t)},setQuery:function(t){this._mql&&this._mql.removeListener(this._listener),this._mql=window.matchMedia(t),this._mql.addListener(this._listener)},isMatch:function(){return this._mql.matches}}),t.exports=e},function(t,e,n){var r=n(99),o=n(1),i=n(22),s=n(36),a=n(32),u=n(0),c=n(5);function f(t){for(var e="div",n="",r=[],o=[],s="",a=0,u=t.length;a<u;a++){var c=t[a];"#"===c||"."===c?(o.push(s),s=c):s+=c}o.push(s);for(var f=0,l=o.length;f<l;f++)(s=o[f])&&(i(s,"#")?n=s.slice(1):i(s,".")?r.push(s.slice(1)):e=s);return{tagName:e,id:n,classes:r}}e=function(t,e){for(var n=arguments.length,l=new Array(n>2?n-2:0),p=2;p<n;p++)l[p-2]=arguments[p];(r(e)||o(e))&&(l.unshift(e),e=null),e||(e={});var d=f(t),h=d.tagName,v=d.id,m=d.classes,g=document.createElement(h);return v&&g.setAttribute("id",v),s.add(g,m),u(l,(function(t){o(t)?g.appendChild(document.createTextNode(t)):r(t)&&g.appendChild(t)})),u(e,(function(t,e){o(t)?g.setAttribute(e,t):c(t)&&i(e,"on")?g.addEventListener(e.slice(2),t,!1):"style"===e&&a(g,t)})),g},t.exports=e},function(t,e){e=function(t){return!(!t||1!==t.nodeType)},t.exports=e},function(t,e){e=function(t){return!!window.ShadowRoot&&t instanceof ShadowRoot},t.exports=e},function(t,e,n){var r=n(1),o=n(7),i=n(102),s=n(14),a=n(18);e=function(t){r(t)&&(t=o(t));for(var e="",n=arguments.length,c=new Array(n>1?n-1:0),f=1;f<n;f++)c[f-1]=arguments[f];for(var l=0,p=t.length;l<p;l++)e+=t[l],c[l]&&(e+=c[l]);for(var d=e.split("\n"),h=[],v=0,m=d.length;v<m;v++){var g=d[v],y=g.match(u);y&&h.push(y[1].length)}var x=h.length>0?i.apply(null,h):0;return a(s(d,(function(t){return" "===t[0]?t.slice(x):t})).join("\n"))};var u=/^(\s+)\S+/;t.exports=e},function(t,e){e=function(){for(var t=arguments,e=t[0],n=1,r=t.length;n<r;n++)t[n]<e&&(e=t[n]);return e},t.exports=e},function(t,e,n){var r=n(11);(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(e=r({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),t.exports=e},function(t,e,n){var r=n(0),o=n(23);e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"js",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(a,i),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=s[n];var u=0,c=[];r(n,(function(n){n.language&&(t=t.replace(n.re,(function(t,r){return r?(c[u++]=e(r,n.language,a),t.replace(r,"___subtmpl"+(u-1)+"___")):t})))})),r(n,(function(e,n){s[e.language]||(t=t.replace(e.re,"___"+n+"___$1___end"+n+"___"))}));var f=[];return t=t.replace(/___(?!subtmpl)\w+?___/g,(function(t){var e="end"===t.substr(3,3),r=(e?t.substr(6):t.substr(3)).replace(/_/g,""),o=f.length>0?f[f.length-1]:null;return!e&&(null==o||r==o||null!=o&&n[o]&&null!=n[o].embed&&n[o].embed.indexOf(r)>-1)?(f.push(r),t):e&&r==o?(f.pop(),t):""})),r(n,(function(e,n){var r=a[e.style]?' style="'.concat(a[e.style],'"'):"";t=t.replace(new RegExp("___end"+n+"___","g"),"</span>").replace(new RegExp("___"+n+"___","g"),'<span class="'.concat(e.style,'"').concat(r,">"))})),r(n,(function(e){e.language&&(t=t.replace(/___subtmpl\d+___/g,(function(t){var e=parseInt(t.replace(/___subtmpl(\d+)___/,"$1"),10);return c[e]})))})),t};var i={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},s={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};s.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:s.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},s.css={comment:s.js.comment,string:s.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},t.exports=e},function(t,e,n){var r=n(23),o=n(2);e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(n,i);var s=n.ellipsis,a=n.separator,u=t.length;if(e>u)return t;var c=e-s.length;if(c<1)return s;var f=t.slice(0,c);if(o(a))return f+s;if(t.indexOf(a,c)!==c){var l=f.lastIndexOf(a);l>-1&&(f=f.slice(0,l))}return f+s};var i={ellipsis:"..."};t.exports=e},function(t,e,n){var r=n(4),o=(e=function(t){return s.test(t)?t.replace(a,u):t}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+r(o).join("|")+")",s=new RegExp(i),a=new RegExp(i,"g"),u=function(t){return o[t]};t.exports=e},function(t,e,n){var r=n(9),o=n(8),i=n(4);e=function(t,e,n){e=r(e,n);for(var s=!o(t)&&i(t),a=(s||t).length,u=0;u<a;u++){var c=s?s[u]:u;if(!e(t[c],c,t))return!1}return!0},t.exports=e},function(t,e,n){var r=n(15),o=n(109),i=n(0),s=n(26),a=n(18),u=n(14),c=n(5);e={on:function(t,e,n){c(e)&&(n=e,e={}),t=t.split(d),i(t,(function(t){if(t=p(t),e.element){var r=e.element,o=r._hotkeyListeners||{};r._hotkeyListeners=o,o[t]=o[t]||[];var i=function(e){t===l(e)&&n(e)};o[t].push({listener:i,origin:n}),r.addEventListener("keydown",i)}else f.on(t,n)}))},off:function(t,e,n){c(e)&&(n=e,e={}),t=t.split(d),i(t,(function(t){if(t=p(t),e.element){var r=e.element,o=r._hotkeyListeners;if(o&&o[t]){for(var i,s=o[t],a=0,u=s.length;a<u;a++)s[a].origin===n&&(i=s[a].listener,s.splice(a,1));i&&r.removeEventListener("keydown",i)}}else f.off(t,n)}))}};var f=new r;function l(t){var e=[];return t.ctrlKey&&e.push("ctrl"),t.shiftKey&&e.push("shift"),e.push(o(t.keyCode)),p(e.join("+"))}function p(t){var e=t.split(h);return e=u(e,(function(t){return a(t)})),(e=s(e)).sort(),e.join("+")}document.addEventListener("keydown",(function(t){f.emit(l(t),t)}));var d=/,/g,h=/\+/g;t.exports=e},function(t,e,n){var r=n(1),o=n(110);e=function(t){return r(t)?i[t]:f[t]};for(var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,windows:91,"right windows":92,"windows menu":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=97;s<123;s++)i[String.fromCharCode(s)]=s-32;for(var a=48;a<58;a++)i[a-48]=a;for(var u=1;u<13;u++)i["f"+u]=u+111;for(var c=0;c<10;c++)i["numpad "+c]=c+96;var f=o(i);t.exports=e},function(t,e,n){var r=n(0);e=function(t){var e={};return r(t,(function(t,n){e[t]=n})),e},t.exports=e}])}));
//# sourceMappingURL=luna-dom-viewer.js.map